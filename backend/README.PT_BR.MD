# Luxis - Sistema de GestÃ£o de Estoque (BACKEND)

[![NestJS](https://img.shields.io/badge/NestJS-EA2845?style=for-the-badge&logo=nestjs&logoColor=white)](https://nestjs.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![JWT](https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white)](https://jwt.io/)
[![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=Swagger&logoColor=white)](https://swagger.io/)
[![Jest](https://img.shields.io/badge/Jest-C21325?style=for-the-badge&logo=jest&logoColor=white)](https://jestjs.io/)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white)](https://github.com/features/actions)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)](LICENSE)

> **Idioma**: [English](README.md) | [PortuguÃªs (BR)](#)

Sistema de gestÃ£o de estoque desenvolvido com NestJS, seguindo os princÃ­pios da Clean Architecture e Domain-Driven Design (DDD).

## âœ¨ Funcionalidades

- ğŸ” AutenticaÃ§Ã£o e autorizaÃ§Ã£o com JWT e CASL
- ğŸ‘¥ GestÃ£o de usuÃ¡rios e permissÃµes
- ğŸ“¦ GestÃ£o de produtos e categorias
- ğŸ“Š Controle de estoque e lotes
- ğŸ’° GestÃ£o de vendas e envios
- ğŸ“§ Sistema de notificaÃ§Ãµes por email
- ğŸ“± Upload de imagens com Cloudinary
- ğŸ“ DocumentaÃ§Ã£o da API com Swagger
- ğŸ”’ Rate limiting e seguranÃ§a
- ğŸ“ˆ Logs e monitoramento

## ğŸš€ Tecnologias

- [NestJS](https://nestjs.com/)
- [TypeScript](https://www.typescriptlang.org/)
- [TypeORM](https://typeorm.io/)
- [PostgreSQL](https://www.postgresql.org/)
- [JWT](https://jwt.io/)
- [CASL](https://casl.js.org/)
- [Cloudinary](https://cloudinary.com/)
- [MailerSend](https://www.mailersend.com/)
- [Swagger](https://swagger.io/)
- [Jest](https://jestjs.io/)

## ğŸ“‹ PrÃ©-requisitos

- Node.js (versÃ£o LTS recomendada)
- PostgreSQL
- Yarn ou NPM
- Conta no Cloudinary (para upload de imagens)
- Conta no MailerSend (para envio de emails)

## ğŸ”§ InstalaÃ§Ã£o

### 1. Clone o repositÃ³rio

```bash
git clone https://github.com/gabriel-aguiar-reis/luxis.git
cd luxis
```

### 2. Instale as dependÃªncias

```bash
cd backend
yarn install
```

### 3. Configure as variÃ¡veis de ambiente

```bash
cp .env.example .env
```

Edite o arquivo `.env` com suas configuraÃ§Ãµes.

### 4. Execute as migraÃ§Ãµes

```bash
yarn migration:run
```

### 5. Crie o superusuÃ¡rio

```bash
yarn seed:superuser
```

## ğŸš€ Executando o projeto

### Desenvolvimento

```bash
yarn start:dev
```

### ProduÃ§Ã£o

```bash
yarn build
yarn start:prod
```

## ğŸ§ª Testes

### Testes UnitÃ¡rios

```bash
yarn test:unit
```

### Testes de IntegraÃ§Ã£o

```bash
yarn test:integration
```

### Testes E2E

```bash
yarn test:e2e
```

### Cobertura de Testes

```bash
yarn test:cov
```

## ğŸ“¦ Scripts DisponÃ­veis

- `yarn build`: Compila o projeto
- `yarn start:dev`: Inicia o servidor em modo desenvolvimento
- `yarn start:debug`: Inicia o servidor em modo debug
- `yarn start:prod`: Inicia o servidor em modo produÃ§Ã£o
- `yarn test`: Executa todos os testes
- `yarn migration:generate`: Gera uma nova migraÃ§Ã£o
- `yarn migration:run`: Executa as migraÃ§Ãµes pendentes
- `yarn migration:revert`: Reverte a Ãºltima migraÃ§Ã£o
- `yarn seed:superuser`: Cria um superusuÃ¡rio

## ğŸ“š DocumentaÃ§Ã£o da API

A documentaÃ§Ã£o da API estÃ¡ disponÃ­vel atravÃ©s do Swagger UI quando o servidor estiver rodando:

```html
http://localhost:3000/api/docs
```

## ğŸ—ï¸ Arquitetura

O projeto segue os princÃ­pios da Clean Architecture e DDD, com a seguinte estrutura:

```bash
â”œâ”€â”€ backend/                  # Backend da aplicaÃ§Ã£o
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ modules/          # MÃ³dulos da aplicaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/         # AutenticaÃ§Ã£o e autorizaÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ user/         # GestÃ£o de usuÃ¡rios
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ application/ # AplicaÃ§Ã£o de negÃ³cio
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dtos/ # Data Transfer Objects
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ use-cases/ # Casos de uso
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/   # DomÃ­nio da aplicaÃ§Ã£o
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entities/ # Entidades
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ enums/ # Enums
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ values-objects/ # Valores de objeto
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repositories/ # RepositÃ³rios
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ presentation/ # Camadas de apresentaÃ§Ã£o
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.controller.ts/ # Controlador de usuÃ¡rios
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.module.ts # MÃ³dulo de usuÃ¡rios
â”‚   â”‚   â”‚   â”œâ”€â”€ product/      # GestÃ£o de produtos
â”‚   â”‚   â”‚   â”œâ”€â”€ category/     # Categorias de produtos
â”‚   â”‚   â”‚   â”œâ”€â”€ batch/        # Lotes de produtos
â”‚   â”‚   â”‚   â”œâ”€â”€ sale/         # Vendas
â”‚   â”‚   â”‚   â”œâ”€â”€ shipment/     # Envios
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ shared/           # CÃ³digo compartilhado
â”‚   â”‚   â”‚   â”œâ”€â”€ config/       # ConfiguraÃ§Ãµes
â”‚   â”‚   â”‚   â”œâ”€â”€ infra/        # Infraestrutura
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/     # ImplementaÃ§Ãµes de autenticaÃ§Ã£o
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database/ # ConfiguraÃ§Ãµes do banco de dados
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ logging/  # ConfiguraÃ§Ãµes de logging
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ main.ts           # Ponto de entrada da aplicaÃ§Ã£o
â”‚   â”œâ”€â”€ test/                 # Testes
â”‚   â”‚   â”œâ”€â”€ unit/             # Testes unitÃ¡rios
â”‚   â”‚   â”œâ”€â”€ integration/      # Testes de integraÃ§Ã£o
â”‚   â”‚   â””â”€â”€ e2e/              # Testes end-to-end
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

## ğŸ”’ SeguranÃ§a

- AutenticaÃ§Ã£o via JWT
- AutorizaÃ§Ã£o via CASL
- Rate Limiting
- ValidaÃ§Ã£o de entrada com class-validator
- SanitizaÃ§Ã£o de dados
- Logging de seguranÃ§a

## ğŸ“§ Contato

Gabriel Aguiar - [@gabriel-aguiar-reis](https://github.com/gabriel-aguiar-reis)

[![LinkedIn](https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/gabriel-aguiar-reis/)
[![Email](https://img.shields.io/badge/Email-D14836?style=for-the-badge&logo=gmail&logoColor=white)](mailto:lugafeagre@gmail.com)

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## ğŸ‘¥ ContribuiÃ§Ã£o

1. FaÃ§a um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request
